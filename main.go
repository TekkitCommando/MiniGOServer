package main

import (
	"GoMiniServer/serializable"
	"encoding/json"
	"GoMiniServer/networking"
)

// The main method that starts the program.
func main() {

	status := serializable.ServerStatus {
		Players: serializable.Players { Max: 100, Online: 24 },
		Version: serializable.Version { Name: "§c§lMiniServer 1.11.2", Protocol: 316 },
		Description: "§c§lCurrently in §r§a§lDeveloper §r§c§lMode §r§c:C",
		Favicon: "data:image/png;base64,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",
	}

	bytes, _ := json.Marshal(status)
	println(string(bytes))

	server := networking.NewMiniServer("0.0.0.0", 25565, string(bytes))

	server.Start()

/*
	file, err := os.Open("bigtest.nbt")
	if err != nil { log.Fatal(err) }

	reader, err := gzip.NewReader(file)
	if err != nil { log.Fatal(err) }

	nbtStuff, _ := nbt.Decode(reader)
	nbtStuff.PrettyPrint()*/



	// Simple way to keep program running until CTRL-C is pressed.
	<-make(chan struct{})
}